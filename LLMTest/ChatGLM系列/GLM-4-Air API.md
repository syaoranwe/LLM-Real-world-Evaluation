# GLM-4-Air API

模型详情说明：在智谱MaaS平台：https://open.bigmodel.cn/trialcenter 体验中心中选用GLM-4-Air API，进行模型调用，获取模型的输出结果。

参数：

```
系统Prompt：
You are a capable assistant who can follow user instructions well and help them solve academic or programming problems. When facing complex problems, you are skilled at thinking step by step to find the correct answer.

最大回复token：2048

Temperature：0.7

Top-P：0.95

关闭网页检索等能力
```

以下为【2024-06初】测试时的回答及评分

总得分：25+3+5+6=39分

## 数理计算（30分）

### 塔台高度

第一遍：对

5分

### 概率统计

第一遍：错

第二遍：对

5分

### 赌徒输赢

第一遍：错

第二遍：错

0分

### 水库水量

第一遍：错

第二遍：对

5分

### 行星半径

第一遍：对

5分

### 溶液pH

第一遍：错

第二遍：对

5分

## 现实逻辑（20分）

### 福字正倒（弱智吧问题）
```text

第一遍：无要点

第二遍：无要点

0分

```

### 谁的女儿
```text

第一遍：无要点

第二遍：无要点

0分

```

### 新家庭关系
```text

第一遍：错

第二遍：错

0分

```

### 手语转译

第一遍：我星期日晚上九点多，天冷我发烧了。我自己在家打了三两姜，加了红糖，喝了一碗姜汤，全部喝完。到了十点半，我出了汗。星期一早上六点，我家开门后去喂小狗，但我感到头晕。我星期一慢慢地好了，不再发烧。星期四，我家门口外面有很多破烂。我咳嗽个不停。昨天我吃了苹果，还吃了两个香蕉，吃了一个涩的大黄柿子。今天早上检查了糖尿病，我自己测了血糖，是5.8。我体重120斤，我去了医院和社区，医生告诉我要正常控制。

第二遍：我星期日晚上九点多的时候，因为天冷我发烧了。我自己在家打了三两姜，加上红糖，喝了一碗大姜糖水，全部喝完。到了十点半，我出了汗。星期一早上六点左右，我家的门一打开，我就去喂小狗。那时候我感到头晕。星期一我慢慢恢复了，不再发烧了。到了星期四，我家门口外面堆了很多破烂。我一直咳嗽不停。昨天我吃了苹果，还吃了两个香蕉，吃了一个大黄柿子，感觉有些涩。今天早上，我检查了血糖，我自己测量的结果是5.8。我称了体重，是120斤。我去了医院和社区，医生告诉我我的情况是正常的，我正在控制得很好。

3分


## IT代码（10分）

第一遍：代码运行出错

第二遍（如果第一遍没有满分的话）：代码运行出错

0分

## 领域专业能力（10分）

10-0.5*6=7分

由于不遵从多轮对话指令，导致原提示词无法回答问题，只能修改提示词到单个Prompt，所以扣2分。最终得分5分。

```text
二甲双胍肠溶胶囊用于治疗2型糖尿病，尤其是肥胖患者。因此属于【激素及影响内分泌药】。

复方愈创木酚磺酸钾口服溶液主要用于缓解咳嗽和祛痰。因此属于【呼吸系统药物】。

硫唑嘌呤片常用于治疗自身免疫性疾病和器官移植后的排斥反应。因此属于【免疫系统用药】。

注射用硫酸长春新碱是一种抗肿瘤药物，用于治疗某些类型的癌症。因此属于【抗肿瘤药】。

吗替麦考酚酯分散片用于预防和治疗器官移植后的排斥反应。因此属于【免疫系统用药】。

磷酸苯丙哌林缓释片用于治疗咳嗽，尤其是刺激性干咳。因此属于【呼吸系统药物】。

水飞蓟素胶囊主要用于保护肝脏，治疗肝损伤。因此属于【消化系统药物】。

琥珀酸亚铁缓释片用于治疗缺铁性贫血。因此属于【血液系统用药】。

盐酸赛庚啶片用于治疗偏头痛和高血压。因此属于【心血管系统药物】。错误

碘解磷定注射液用于解救有机磷农药中毒。因此属于【解毒药】。

酒石酸美托洛尔片用于治疗高血压和心脏病。因此属于【心血管系统药物】。

佐匹克隆片是一种镇静催眠药，用于治疗失眠。因此属于【精神障碍药物】。

伊曲康唑胶囊用于治疗真菌感染。因此属于【抗真菌药】。

维A酸乳膏用于治疗皮肤疾病，如痤疮和银屑病。因此属于【皮肤科用药】。

盐酸多沙普仑注射液用于治疗中枢神经系统抑制。因此属于【神经系统药物】。

盐酸阿米替林片用于治疗抑郁症。因此属于【精神障碍药物】。

阿托伐他汀钙片用于降低胆固醇和预防心血管疾病。因此属于【心血管系统药物】。

噻托溴铵粉雾剂用于治疗慢性阻塞性肺疾病。因此属于【呼吸系统药物】。

聚乙二醇散剂用于治疗便秘。因此属于【消化系统药物】。

盐酸纳洛酮注射液用于解救阿片类药物过量中毒。因此属于【解毒药】。

甲氧氯普胺片用于治疗恶心和呕吐。因此属于【消化系统药物】。

硝酸毛果芸香碱滴眼液用于治疗青光眼。因此属于【眼科用药】。

盐酸羟甲唑啉喷雾剂用于缓解鼻塞。因此属于【耳鼻喉科用药】。

盐酸艾司氯胺酮鼻喷雾剂用于治疗鼻塞和鼻出血。因此属于【耳鼻喉科用药】。错误

盐酸氟桂利嗪胶囊用于治疗偏头痛和眩晕。因此属于【神经系统药物】。

盐酸布比卡因注射液用于局部麻醉。因此属于【麻醉药】。

乙胺嘧啶片用于治疗疟疾。因此属于【抗寄生虫病药】。

氢氯噻嗪片用于治疗高血压和水肿。因此属于【心血管系统药物】。错误

乙酰半胱氨酸颗粒用于治疗咳痰困难和慢性阻塞性肺病。因此属于【呼吸系统药物】。

盐酸齐拉西酮胶囊用于治疗精神分裂症。因此属于【精神障碍药物】。

富马酸比索洛尔片用于治疗高血压和心脏病。因此属于【心血管系统药物】。

盐酸雷尼替丁片用于治疗胃酸过多和胃溃疡。因此属于【消化系统药物】。

丙酸氟替卡松气雾剂用于治疗哮喘。因此属于【呼吸系统药物】。

瑞巴派特片用于治疗胃溃疡和胃炎。因此属于【消化系统药物】。

盐酸特比萘芬凝胶用于治疗皮肤真菌感染。因此属于【皮肤科用药】。

玛巴洛沙韦片用于治疗HIV感染。因此属于【抗病毒药】。错误

吡嗪酰胺片用于治疗结核病。因此属于【抗真菌药】。错误

注射用盐酸平阳霉素用于治疗某些类型的癌症。因此属于【抗肿瘤药】。

乳酸钠林格注射液用于调节水和电解质平衡。因此属于【调节水、电解质及酸碱平衡药】。

乙酰胺注射液用于治疗某些类型的癫痫发作。因此属于【神经系统药物】。错误
```

## 现实任务（30分，两题分别20+10分）

### 智能家居Agent

4个小问题，每次回答：

#### 问题1：
```text
{touser}主人，这个问题可能是由于加湿器传感器检测到的环境湿度与湿度计显示的湿度存在差异导致的。我将再次检查主卧加湿器的状态，确认是否需要重新启动加湿器。|{tocenter}[getValue(id=21,key=isWorking)]
```

5分

#### 问题2：
```text
{touser}好的，主人，我将为您修改计划任务。|{tocenter}[undoSomeAciton(id=0,action_id=1)]

{touser}第一条计划任务设置成功，每周一的下午6点，如果主卧湿度大于85或者温度大于等于27度，将打开主卧除湿机，并设置目标湿度为60。|{tocenter}[doSomeAcitonWhen(id=0, action="startDevice(id=22)&setDehumiTo(id=22, to_humidity=60)", when="weekloop(day=1,time=1800)&(devicestatus(id=23, key=nowHumi, value='>85')|devicestatus(id=23, key=nowTemp, value='>=27'))")]

{touser}第二条计划任务设置成功，每周一的晚上9点，将关闭主卧除湿机。|{tocenter}[doSomeAcitonWhen(id=0, action="stopDevice(id=22)", when="weekloop(day=1,time=2100)")]
```
0分

#### 问题3：
```text
{touser}好的，主人，我将为您设置计划任务。|{tocenter}[doSomeAcitonWhen(id=0, action="startDevice(id=10)&setAirConditioner(id=10,mode=warm,temperature=25)", when="dayloop(time=1900)&devicestatus(id=12, key=nowTemp, value '<15')&devicestatus(id=10, key=isWorking, value=false)"), doSomeAcitonWhen(id=0, action="startDevice(id=10)&setAirConditioner(id=10,mode=cold,temperature=22)", when="dayloop(time=1900)&devicestatus(id=12, key=nowTemp, value '>26')&devicestatus(id=10, key=isWorking, value=false)")]
```

缺少未来10天的条件，额外多加入了判断是否工作的条件，指令语义是如果空调在工作就不执行相应动作，与现实情况不符，1分。


#### 问题4：
```text
{touser}好的，主人，我将为您设置计划任务，每天下午6点前检测主卧湿度，并根据需要自动打开除湿机或加湿器，以保持湿度在60-80之间。|{tocenter}[doSomeAcitonWhen(id=0, action="if {devicestatus(id=23, key=nowHumi, value='>80')|devicestatus(id=23, key=nowHumi, value='<60')} then {startDevice(id=22)} else {startDevice(id=21)}", when="dayloop(time=1800)")]
```
指令格式错误，0分

### 超市货品结算计算

第一遍：120.8

第二遍（如第一遍正确的话）：代码运行出错

0分

